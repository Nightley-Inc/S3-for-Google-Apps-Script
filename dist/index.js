parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"6KOv":[function(require,module,exports) {
var define;
var t;!function(n,i){"object"==typeof exports?module.exports=exports=i():"function"==typeof t&&t.amd?t([],i):n.CryptoJS=i()}(this,function(){var t=t||function(t,n){var i=Object.create||function(){function t(){}return function(n){var i;return t.prototype=n,i=new t,t.prototype=null,i}}(),r={},e=r.lib={},o=e.Base={extend:function(t){var n=i(this);return t&&n.mixIn(t),n.hasOwnProperty("init")&&this.init!==n.init||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},s=e.WordArray=o.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=null!=n?n:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var n=this.words,i=t.words,r=this.sigBytes,e=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<e;o++){var s=i[o>>>2]>>>24-o%4*8&255;n[r+o>>>2]|=s<<24-(r+o)%4*8}else for(o=0;o<e;o+=4)n[r+o>>>2]=i[o>>>2];return this.sigBytes+=e,this},clamp:function(){var n=this.words,i=this.sigBytes;n[i>>>2]&=4294967295<<32-i%4*8,n.length=t.ceil(i/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(n){for(var i,r=[],e=function(n){n=n;var i=987654321,r=4294967295;return function(){var e=((i=36969*(65535&i)+(i>>16)&r)<<16)+(n=18e3*(65535&n)+(n>>16)&r)&r;return e/=4294967296,(e+=.5)*(t.random()>.5?1:-1)}},o=0;o<n;o+=4){var a=e(4294967296*(i||t.random()));i=987654071*a(),r.push(4294967296*a()|0)}return new s.init(r,n)}}),a=r.enc={},c=a.Hex={stringify:function(t){for(var n=t.words,i=t.sigBytes,r=[],e=0;e<i;e++){var o=n[e>>>2]>>>24-e%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var n=t.length,i=[],r=0;r<n;r+=2)i[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new s.init(i,n/2)}},u=a.Latin1={stringify:function(t){for(var n=t.words,i=t.sigBytes,r=[],e=0;e<i;e++){var o=n[e>>>2]>>>24-e%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var n=t.length,i=[],r=0;r<n;r++)i[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new s.init(i,n)}},f=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(n){throw new Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},h=e.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=f.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(n){var i=this._data,r=i.words,e=i.sigBytes,o=this.blockSize,a=e/(4*o),c=(a=n?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*o,u=t.min(4*c,e);if(c){for(var f=0;f<c;f+=o)this._doProcessBlock(r,f);var h=r.splice(0,c);i.sigBytes-=u}return new s.init(h,u)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),p=(e.Hasher=h.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(n,i){return new t.init(i).finalize(n)}},_createHmacHelper:function(t){return function(n,i){return new p.HMAC.init(t,i).finalize(n)}}}),r.algo={});return r}(Math);return t});
},{}],"A0uM":[function(require,module,exports) {
var define;
var r;!function(t,e){"object"==typeof exports?module.exports=exports=e(require("./core")):"function"==typeof r&&r.amd?r(["./core"],e):e(t.CryptoJS)}(this,function(r){return function(t){var e=r,o=e.lib,n=o.WordArray,s=o.Hasher,i=e.algo,a=[],c=[];!function(){function r(r){for(var e=t.sqrt(r),o=2;o<=e;o++)if(!(r%o))return!1;return!0}function e(r){return 4294967296*(r-(0|r))|0}for(var o=2,n=0;n<64;)r(o)&&(n<8&&(a[n]=e(t.pow(o,.5))),c[n]=e(t.pow(o,1/3)),n++),o++}();var h=[],f=i.SHA256=s.extend({_doReset:function(){this._hash=new n.init(a.slice(0))},_doProcessBlock:function(r,t){for(var e=this._hash.words,o=e[0],n=e[1],s=e[2],i=e[3],a=e[4],f=e[5],u=e[6],l=e[7],_=0;_<64;_++){if(_<16)h[_]=0|r[t+_];else{var p=h[_-15],d=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,v=h[_-2],H=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;h[_]=d+h[_-7]+H+h[_-16]}var y=o&n^o&s^n&s,w=(o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22),A=l+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&f^~a&u)+c[_]+h[_];l=u,u=f,f=a,a=i+A|0,i=s,s=n,n=o,o=A+(w+y)|0}e[0]=e[0]+o|0,e[1]=e[1]+n|0,e[2]=e[2]+s|0,e[3]=e[3]+i|0,e[4]=e[4]+a|0,e[5]=e[5]+f|0,e[6]=e[6]+u|0,e[7]=e[7]+l|0},_doFinalize:function(){var r=this._data,e=r.words,o=8*this._nDataBytes,n=8*r.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=t.floor(o/4294967296),e[15+(n+64>>>9<<4)]=o,r.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var r=s.clone.call(this);return r._hash=this._hash.clone(),r}});e.SHA256=s._createHelper(f),e.HmacSHA256=s._createHmacHelper(f)}(Math),r.SHA256});
},{"./core":"6KOv"}],"v9+5":[function(require,module,exports) {
var define;
var e;!function(t,i){"object"==typeof exports?module.exports=exports=i(require("./core")):"function"==typeof e&&e.amd?e(["./core"],i):i(t.CryptoJS)}(this,function(e){var t,i,s;i=(t=e).lib.Base,s=t.enc.Utf8,t.algo.HMAC=i.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=s.parse(t));var i=e.blockSize,r=4*i;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var n=this._oKey=t.clone(),o=this._iKey=t.clone(),a=n.words,h=o.words,c=0;c<i;c++)a[c]^=1549556828,h[c]^=909522486;n.sigBytes=o.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,i=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(i))}})});
},{"./core":"6KOv"}],"ztDJ":[function(require,module,exports) {
var define;
var e;!function(r,o,t){"object"==typeof exports?module.exports=exports=o(require("./core"),require("./sha256"),require("./hmac")):"function"==typeof e&&e.amd?e(["./core","./sha256","./hmac"],o):o(r.CryptoJS)}(this,function(e){return e.HmacSHA256});
},{"./core":"6KOv","./sha256":"A0uM","./hmac":"v9+5"}],"19Mj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.S3Request=n;var t=e(require("crypto-js/hmac-sha256"));function e(t){return t&&t.__esModule?t:{default:t}}var s=86400,r="ap-northeast-1";function n(t){this.service=t,this.httpMethod="GET",this.contentType="",this.content="",this.bucket="",this.objectName="",this.listType="",this.prefix="",this.headers={},this.date=new Date}n.prototype.setContentType=function(t){if("string"!=typeof t)throw"contentType must be passed as a string";return this.contentType=t,this},n.prototype.getContentType=function(){return this.contentType?this.contentType:"PUT"===this.httpMethod||"POST"===this.httpMethod?"application/x-www-form-urlencoded":""},n.prototype.setContent=function(t){if("string"!=typeof t)throw"content must be passed as a string";return this.content=t,this},n.prototype.setHttpMethod=function(t){if("string"!=typeof t)throw"http method must be string";return this.httpMethod=t,this},n.prototype.setBucket=function(t){if("string"!=typeof t)throw"bucket name must be string";return this.bucket=this.fixedEncodeURIComponent(t.toLowerCase()),this},n.prototype.setObjectName=function(t){if("string"!=typeof t)throw"objectName must be string";return this.objectName=this.fixedEncodeURIComponent(t.toLowerCase()),this},n.prototype.setListType=function(t){if("string"!=typeof t)throw"listType must be string";return this.listType=this.fixedEncodeURIComponent(t.toLowerCase()),this},n.prototype.setPrefix=function(t){if("string"!=typeof t)throw"prefix must be string";return this.prefix=this.fixedEncodeURIComponent(t.toLowerCase()),this},n.prototype.addHeader=function(t,e){if("string"!=typeof t)throw"header name must be string";if("string"!=typeof e)throw"header value must be string";return this.headers[t]=e,this},n.prototype.getUrl=function(){return""!=this.listType?"https://"+this.bucket+".s3.amazonaws.com/":"https://"+this.bucket+".s3.amazonaws.com/"+this.objectName},n.prototype.execute=function(t){t=t||{};var e={method:this.httpMethod,payload:this.content,headers:this.headers,muteHttpExceptions:!0};this.getContentType()&&(e.contentType=this.getContentType());var s=UrlFetchApp.fetch(this.getSignedUrl({}),e),r=UrlFetchApp.getRequest(this.getSignedUrl({}),e);if(this.lastExchangeLog=this.service.logExchange_(r,s),t.logRequests&&Logger.log(this.service.getLastExchangeLog()),t.echoRequestToUrl&&UrlFetchApp.fetch(t.echoRequestToUrl,e),s.getResponseCode()>299){var n={name:"AwsError"};try{var o=XmlService.parse(s.getContentText()).getRootElement().getChildren();for(i in o){var a=o[i].getName();n[a=a.charAt(0).toLowerCase()+a.slice(1)]=o[i].getText()}n.toString=function(){return"AWS Error - "+this.code+": "+this.message+"\nRequest : \n"+r+"\nResponse : \n"+s},n.httpRequestLog=this.service.getLastExchangeLog()}catch(h){n.message="AWS returned HTTP code "+s.getResponseCode()+", but error content could not be parsed.",n.toString=function(){return this.message},n.httpRequestLog=this.service.getLastExchangeLog()}throw n}return s},n.prototype.getSignedUrl=function(t){if(t.expires=t.expires||s,t.expires<1||t.expires>7*s)throw new"'expires' option must be within 1 and 604800 seconds (7 days), inclusive";return this.authenticate(t,"url")},n.prototype.authenticate=function(e,s){e=e||{};var i="";if(i+=this.httpMethod+"\n",""!=this.listType)var n="/";else n="/"+this.objectName;i+=(n=n.replace(/%2F/g,"/"))+"\n";var o="X-Amz-Algorithm=AWS4-HMAC-SHA256",a=new Date;"signatureTesting"in e&&!0===e.signatureTesting&&(a=new Date(Date.UTC("2013","04","24")));var h=a.getUTCFullYear()+("0"+(a.getUTCMonth()+1)).slice(-2)+("0"+a.getUTCDate()).slice(-2),p=e.region||r;o+="&X-Amz-Credential="+[this.service.accessKeyId,h,p,"s3","aws4_request"].join("%2F");var c=h+"T"+(("0"+a.getUTCHours()).slice(-2)+("0"+a.getUTCMinutes()).slice(-2)+("0"+a.getUTCSeconds()).slice(-2))+"Z";o+="&X-Amz-Date="+c;var u=86400;e.hasOwnProperty("expires")&&(u=e.expires),o+="&X-Amz-Expires="+u;var g=["host:"+this.bucket+".s3.amazonaws.com"],f=["host"];for(var d in this.headers)if(d.match(/^x-amz/i)){var y=d.toLowerCase()+":"+this.headers[d].trim();g.push(y),f.push(d.toLowerCase())}this.headers=g.sort();var l=g.sort().join("\n")+"\n";o+="&X-Amz-SignedHeaders="+f.sort().join("%3B"),""!=this.listType&&(o+="&list-type="+this.listType,""!=this.prefix&&(o+="&prefix="+this.prefix)),i+=o+"\n",i+=l+"\n",i+=f.sort().join("%3B")+"\n",i+="UNSIGNED-PAYLOAD";var m="";m+="AWS4-HMAC-SHA256\n",m+=c+"\n",m+=h+"/"+p+"/s3/aws4_request\n";var T=Utilities.computeDigest(Utilities.DigestAlgorithm.SHA_256,i,Utilities.Charset.UTF_8);m+=this.bytearrayToHex_(T);var v=this.getSignatureKey_(this.service.secretAccessKey,h,p,"s3"),C=(0,t.default)(m,v,{asBytes:!0});if("signature"===s)return C;var x=this.getUrl()+"?"+o+"&X-Amz-Signature="+C;return x=x.replace(/ /g,"%20")},n.prototype.bytearrayToHex_=function(t){for(var e="",s=0;s<t.length;s++){var i=t[s];i<0&&(i+=256);var r=i.toString(16);1===r.length&&(r="0"+r),e+=r}return e},n.prototype.unsignBytearray_=function(t){for(var e=0;e<t.length;e++)t[e]<0&&(t[e]+=256);return t},n.prototype.getSignatureKey_=function(e,s,i,r){var n=(0,t.default)(s,"AWS4"+e,{asBytes:!0}),o=(0,t.default)(i,n,{asBytes:!0}),a=(0,t.default)(r,o,{asBytes:!0});return(0,t.default)("aws4_request",a,{asBytes:!0})},n.prototype.getAuthHeader_=function(){var t=this.authenticate({},"signature");return"AWS "+this.service.accessKeyId+":"+t},n.prototype.getContentMd5_=function(){return this.content.length>0?Utilities.base64Encode(Utilities.computeDigest(Utilities.DigestAlgorithm.MD5,this.content,Utilities.Charset.UTF_8)):""},n.prototype.fixedEncodeURIComponent=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16)})};
},{"crypto-js/hmac-sha256":"ztDJ"}],"SFWu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getInstance=e,exports.S3=n;var t=require("./S3Request");function e(t,e,o){return new n(t,e,o)}function n(t,e,n){if("string"!=typeof t)throw"Must pass accessKeyId to S3 constructor";if("string"!=typeof e)throw"Must pass secretAcessKey to S3 constructor";this.accessKeyId=t,this.secretAccessKey=e,this.options=n|{}}n.prototype.createBucket=function(e,n){n=n||{};var o=new t.S3Request(this);o.setHttpMethod("PUT"),o.setContentType("text/plain"),void 0===n["x-amz-acl"]&&(n["x-amz-acl"]="private"),o.addHeader("x-amz-acl",n["x-amz-acl"]),o.setBucket(e),o.execute(n)},n.prototype.deleteBucket=function(e,n){n=n||{};var o=new t.S3Request(this);o.setHttpMethod("DELETE"),o.setBucket(e),o.execute(n)},n.prototype.getObjectNames=function(e,n,o){o=o||{};var s=new t.S3Request(this);s.setHttpMethod("GET"),s.setBucket(e),s.setListType("2"),s.setPrefix(n);try{var r=s.execute(o).getBlob()}catch(a){if("AwsError"===a.name&&"NoSuchKey"===a.code)return null;throw a}if("application/xml"===r.getContentType()){var i=XmlService.parse(r.getDataAsString()).getRootElement().getChildren(),c=[];return i.forEach(function(t){"Contents"===t.getName()&&t.getChildren().forEach(function(t){"Key"===t.getName()&&c.push(t.getValue())})}),c}return r},n.prototype.putObject=function(e,n,o,s){s=s||{};var r=new t.S3Request(this);r.setHttpMethod("PUT"),r.setBucket(e),r.setObjectName(n),!("function"==typeof o.copyBlob&&"function"==typeof o.getDataAsString&&"function"==typeof o.getContentType)&&(o=Utilities.newBlob(JSON.stringify(o),"application/json")).setName(n),r.setContent(o.getDataAsString()),r.setContentType(o.getContentType()),r.execute(s)},n.prototype.getObject=function(e,n,o){o=o||{};var s=new t.S3Request(this);s.setHttpMethod("GET"),s.setBucket(e),s.setObjectName(n);try{var r=s.execute(o).getBlob()}catch(i){if("AwsError"===i.name&&"NoSuchKey"===i.code)return null;throw i}return"application/json"===r.getContentType()?JSON.parse(r.getDataAsString()):r},n.prototype.deleteObject=function(e,n,o){o=o||{};var s=new t.S3Request(this);s.setHttpMethod("DELETE"),s.setBucket(e),s.setObjectName(n),s.execute(o)},n.prototype.getSignedUrl=function(e,n,o){o=o||{};var s=new t.S3Request(this);return s.setHttpMethod("GET"),s.setBucket(e),s.setObjectName(n),s.getSignedUrl(o)},n.prototype.getLastExchangeLog=function(){return this.lastExchangeLog},n.prototype.logExchange_=function(t,e){var n="";for(i in n+="\n-- REQUEST --\n",t)"string"==typeof t[i]&&t[i].length>1e3&&(t[i]=t[i].slice(0,1e3)+" ... [TRUNCATED]"),n+=Utilities.formatString("\t%s: %s\n",i,t[i]);n+="-- RESPONSE --\n",n+="HTTP Status Code: "+e.getResponseCode()+"\n",n+="Headers:\n";var o=e.getHeaders();for(i in o)n+=Utilities.formatString("\t%s: %s\n",i,o[i]);n+="Body:\n"+e.getContentText(),this.lastExchangeLog=n};
},{"./S3Request":"19Mj"}],"Focm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"getInstance",{enumerable:!0,get:function(){return e.getInstance}});var e=require("./S3");
},{"./S3":"SFWu"}]},{},["Focm"], null)
//# sourceMappingURL=/index.js.map